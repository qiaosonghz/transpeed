#files="./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt202309201306 ./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt202309201307 ./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt202309201308"
files="./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt202309201306 ./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt202309201307 ./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt202309201308 ./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt202309201309 ./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt202309201310 ./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt202309210117 ./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt202309210118 ./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt202309210119 ./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt202309210120 ./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt202309210121"

point1_gemm_files="./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt202310250315 ./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt202310250316 ./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt202310250317 ./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt202310250318 ./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt202310250319 ./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt202310250716 ./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt202310250717 ./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt202310250718 ./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt202310250719 ./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt202310250720"

#20231121
point1_gemm_files="./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt20231121125527 ./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt20231121125533 ./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt20231121125540 ./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt20231121125546 ./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt20231121125552 ./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt20231121125621 ./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt20231121125628 ./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt20231121125635 ./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt20231121125641 ./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt20231121125647"

#20231121_2
point1_gemm_files="./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt20231121141907 ./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt20231121141914 ./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt20231121141920 ./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt20231121141928 ./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt20231121141935 ./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt20231121151830 ./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt20231121151837 ./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt20231121151844 ./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt20231121151852 ./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt20231121151858"

#20231122
point1_gemm_files="./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt20231122014859 ./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt20231122014906 ./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt20231122014913 ./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt20231122014920 ./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt20231122014927 ./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt20231122015024 ./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt20231122015031 ./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt20231122015038 ./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt20231122015046 ./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt20231122015052"

#20231122_2
point1_gemm_files="./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt20231122020715 ./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt20231122020722 ./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt20231122020728 ./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt20231122020735 ./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt20231122020742 ./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt20231122020840 ./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt20231122020846 ./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt20231122020853 ./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt20231122020900 ./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt20231122020908"


#20231122_3 lhs
point1_gemm_files="./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt20231122025049 ./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt20231122025055 ./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt20231122025101 ./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt20231122025109 ./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt20231122025114 ./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt20231122025237 ./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt20231122025243 ./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt20231122025249 ./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt20231122025256 ./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt20231122025302"

#20231122_4 lhs_2
point1_gemm_files="./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt20231122031113 ./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt20231122031120 ./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt20231122031127 ./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt20231122031134 ./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt20231122031141 ./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt20231122031239 ./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt20231122031245 ./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt20231122031253 ./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt20231122031301 ./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt20231122031307"

#20231122_5 
point1_gemm_files="./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt20231122032140 ./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt20231122032147 ./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt20231122032153 ./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt20231122032200 ./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt20231122032209 ./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt20231122032308 ./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt20231122032314 ./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt20231122032321 ./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt20231122032328 ./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt20231122032335"


#20231122_6 4 dims
point1_gemm_files="./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt20231122055816 ./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt20231122055823 ./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt20231122055829 ./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt20231122055836 ./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt20231122055844 ./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt20231122055943 ./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt20231122055950 ./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt20231122055956"

#20231122_7 4 dims ya
point1_gemm_files="./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt20231122064338 ./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt20231122064343 ./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt20231122064349 ./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt20231122064356 ./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt20231122064404 ./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt20231122064458 ./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt20231122064504 ./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt20231122064511 ./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt20231122064518 ./results/Edge/Spotlight/EDP/TRANSFORMER/out.txt20231122064526"

point1_transpeedv_files="./results/Edge/Spotlight-V/EDP/TRANSFORMER/out.txt20231121063205 ./results/Edge/Spotlight-V/EDP/TRANSFORMER/out.txt20231121063306 ./results/Edge/Spotlight-V/EDP/TRANSFORMER/out.txt20231121063408 ./results/Edge/Spotlight-V/EDP/TRANSFORMER/out.txt20231121063509 ./results/Edge/Spotlight-V/EDP/TRANSFORMER/out.txt20231121063611 ./results/Edge/Spotlight-V/EDP/TRANSFORMER/out.txt20231121091313 ./results/Edge/Spotlight-V/EDP/TRANSFORMER/out.txt20231121091413 ./results/Edge/Spotlight-V/EDP/TRANSFORMER/out.txt20231121091513 ./results/Edge/Spotlight-V/EDP/TRANSFORMER/out.txt20231121091615 ./results/Edge/Spotlight-V/EDP/TRANSFORMER/out.txt20231121091716"

files=$point1_gemm_files
#files=$point1_transpeedv_files

first_parts=$(echo $files | awk '{last = $NF; $NF = ""; print $0}')
last_file=$(echo $files | awk '{print($NF)}')

path="/root/hourz/spotlight_dev"
echo "["
for file in $first_parts
do
    grep "layer_iter_costs" "$path/$file" | tail -n 1 | awk -F'layer_iter_costs:' '{print $2}' | python preprocess_metric_point.py
    echo ","
done
grep "layer_iter_costs" "$path/$last_file" | tail -n 1 | awk -F'layer_iter_costs:' '{print $2}' | python preprocess_metric_point.py
echo "]"

